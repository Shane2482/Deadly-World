package shane2482.deadlyworld.wip;

import org.lwjgl.opengl.GL11;

import net.minecraft.block.state.IBlockState;
import net.minecraft.client.renderer.GlStateManager;
import net.minecraft.client.renderer.tileentity.TileEntitySpecialRenderer;
import net.minecraft.util.ResourceLocation;
import shane2482.deadlyworld.Reference;
import shane2482.deadlyworld.model.furnace_model;


public class FurnaceRenderer extends TileEntitySpecialRenderer<TileEntityModFurnace>{

	ResourceLocation furnaceoff = new ResourceLocation(
			Reference.MOD_ID + ":" + "textures/entity/furnace/furnaceon.png");
	private furnace_model model;

	public FurnaceRenderer() {
		this.model = new furnace_model();
	}

	@Override
	public void renderTileEntityAt(TileEntityModFurnace te, double x, double y, double z, float partialTicks,
			int destroyStage) {
		if (te instanceof TileEntityModFurnace) {
			TileEntityModFurnace mod_furnace = (TileEntityModFurnace) te;

			GlStateManager.pushMatrix();
			IBlockState state = mod_furnace.getWorld().getBlockState(mod_furnace.getPos());
			switch (state.getBlock().getMetaFromState(state)) {
			case 1:
				GlStateManager.rotate(0, 0, 0, 0);
				break;
			// Facing South
			case 2:
				GL11.glTranslatef((float) x + 1.0f, (float) y + 1.0f, (float) z + 0.0f);
				GlStateManager.rotate(180, 0, 0, 1);
				break;
			// Facing North
			case 3:
				GL11.glTranslatef((float) x + 0.0f, (float) y + 1.0f, (float) z + 1.0f);
				GlStateManager.rotate(180, -180, 0, 1);
				break;
			// Facing East
			case 4:
				GL11.glTranslatef((float) x + 0.0f, (float) y + 1.0f, (float) z + 0.0f);
				GlStateManager.rotate(180, 1, 0, 1);
				break;
			// Facing West
			case 5:
				GL11.glTranslatef((float) x + 1.0f, (float) y + 1.0f, (float) z + 1.0f);
				GlStateManager.rotate(180, -1, 0, 1);
				break;
			}
			this.bindTexture(furnaceoff);
			GL11.glPushMatrix();
			this.model.renderAll(0.0625f);
			GL11.glPopMatrix();
			GL11.glPopMatrix();
		}
	}

}